<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading Game... - moyaimoment</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/game.css">
</head>
<body>
    <header class="header">
        <div class="header-container">
            <a href="/" class="site-title">moyaimoment</a>
            
            <nav class="nav">
                <!-- Games Dropdown -->
                <div class="dropdown">
                    <button class="nav-btn dropdown-toggle">
                        Games
                        <span class="arrow">▼</span>
                    </button>
                    <div class="dropdown-menu" id="games-dropdown">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Random Button -->
                <button class="nav-btn" id="random-btn">Random</button>
                
                <!-- More Dropdown -->
                <div class="dropdown">
                    <button class="nav-btn dropdown-toggle">
                        More
                        <span class="arrow">▼</span>
                    </button>
                    <div class="dropdown-menu" id="more-dropdown">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <main class="game-page">
        <!-- Loading Screen -->
        <div class="loading-screen" id="loading-screen">
            <div class="loader"></div>
            <p>Loading game...</p>
        </div>

        <!-- Error Screen -->
        <div class="error-screen" id="error-screen" style="display: none;">
            <div class="error-icon">:(</div>
            <h2>Game Not Found</h2>
            <p id="error-message">The requested game could not be found.</p>
            <a href="/" class="back-btn">Back to Games</a>
        </div>

        <!-- Game Container -->
        <div class="game-wrapper" id="game-wrapper" style="display: none;">
<!-- Game Container -->
            <div class="game-container" id="game-container">
                <!-- Flash Game Container -->
                <div id="flash-container" class="player-container" style="display: none;">
                    <div id="ruffle-player"></div>
                </div>

                <!-- Gameboy Container -->
                <div id="gameboy-container" class="player-container" style="display: none;">
                    <div id="emulator-container"></div>
                </div>

                <!-- HTML5 Container -->
                <div id="html5-container" class="player-container" style="display: none;">
                    <iframe id="html5-frame" src="" frameborder="0" allowfullscreen></iframe>
                </div>
            </div>

            <!-- Game Info Bar -->
            <div class="game-info-bar">
                <div class="game-info-left">
                    <img src="" alt="" class="game-info-icon" id="game-info-icon">
                    <div class="game-info-text">
                        <h1 class="game-title" id="game-title">Game Title</h1>
                        <p class="game-description" id="game-description">Game description goes here.</p>
                        <div class="game-categories" id="game-categories">
                            <!-- Categories populated by JavaScript -->
                        </div>
                    </div>
                </div>
                <div class="game-info-right">
                    <button class="control-btn" id="fullscreen-btn" title="Fullscreen">
                        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                            <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
                        </svg>
                    </button>
                    <button class="control-btn" id="mute-btn" title="Mute">
                        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor" id="mute-icon-unmuted">
                            <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                        </svg>
                        <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor" id="mute-icon-muted" style="display: none;">
                            <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Controls Help -->
            <div class="controls-help" id="controls-help">
                <!-- Populated based on game type -->
            </div>

            <!-- Suggested Games -->
            <div class="suggested-games" id="suggested-games">
                <h3 class="suggested-title">You Might Also Like</h3>
                <div class="suggested-grid" id="suggested-grid">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <!-- Ruffle -->
    <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
    
    <!-- EmulatorJS Config -->
    <script>
        var EJS_player = '#emulator-container';
        var EJS_core = '';
        var EJS_gameUrl = '';
        var EJS_pathtodata = 'https://cdn.emulatorjs.org/stable/data/';
        var EJS_color = '#4a9eff';
        var EJS_startOnLoaded = true;
    </script>
    
    <script src="js/game.js"></script>
</body>
</html>